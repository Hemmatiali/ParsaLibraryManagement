"use strict";
!(function (o) {
    var a = o(window),
        n = o("body");
    feather.replace(),
        (o.createOverlay = function () {
            o(".overlay").length < 1 && (n.addClass("no-scroll").append('<div class="overlay"></div>'), o(".overlay").addClass("show"));
        }),
        n.hasClass("layout-container") && o(".container-fluid").addClass("container").removeClass("container-fluid"),
        a.on("load", function () {
            o("body").hasClass("layout-container") ? o(".side-menu .side-menu-body").wrap('<div class="container"></div>') : o(".side-menu .side-menu-body").wrap('<div class="container-fluid"></div>'),
                o(".page-loader").fadeOut(700, function () {
                    setTimeout(function () {
                        (toastr.options = { timeOut: 3e3, progressBar: !0, showMethod: "slideDown", hideMethod: "slideUp", showDuration: 200, hideDuration: 200 }), toastr.success("Welcome! Rafael Nadal.");
                    }, 1e3);
                });
        }),
        a.on("load", function () {
            setTimeout(function () {
                o(".side-menu .side-menu-body ul li a").each(function () {
                    var e = o(this);
                    e.next("ul").length &&
                        (e.append('<i class="sub-menu-arrow ti-angle-right"></i>'),
                            n.hasClass("horizontal-side-menu") && o(".side-menu .side-menu-body > ul > li > a > .sub-menu-arrow").removeClass("ti-angle-right").addClass("ti-angle-down"));
                });
            }, 200);
        }),
        o(document).on("click", ".sidebar-open", function () {
            var e = o(this).data("sidebar-target"),
                a = o(".sidebar");
            return a.find('ul.nav li a[href="' + e + '"]').trigger("click"), a.hasClass("show") || (a.addClass("show"), o.createOverlay()), !1;
        }),
        o(document).on("click", "*", function (e) {
            ((!o(e.target).is(".sidebar, .sidebar *, .sidebar-open, .sidebar-open *") && o(".sidebar").hasClass("show")) ||
                (!o(e.target).is(".search-panel-open, .search-panel-open *, nav.navbar .header-body form.search, nav.navbar .header-body form.search *") && o("nav.navbar .header-body form.search").hasClass("show")) ||
                (!o(e.target).is(".side-menu-open, .side-menu-open *, .side-menu, .side-menu *") && o(".side-menu").hasClass("show"))) &&
                (o(".sidebar").removeClass("show"), o("nav.navbar .header-body form.search").removeClass("show"), o(".side-menu").removeClass("show"), n.removeClass("no-scroll"), o(".overlay").remove());
        }),
        o(document).on("click", ".search-panel-open", function () {
            return o("nav.navbar form.search").addClass("show").find("input:first").focus(), o.createOverlay(), !1;
        }),
        o(document).on("click", ".side-menu-open", function () {
            return o(".side-menu").addClass("show"), o.createOverlay(), !1;
        }),
        window.addEventListener(
            "load",
            function () {
                var e = document.getElementsByClassName("needs-validation");
                Array.prototype.filter.call(e, function (a) {
                    a.addEventListener(
                        "submit",
                        function (e) {
                            !1 === a.checkValidity() && (e.preventDefault(), e.stopPropagation()), a.classList.add("was-validated");
                        },
                        !1
                    );
                });
            },
            !1
        );
    var e = o(".table-responsive-stack");
    function s() {
        a.width() < 768
            ? o(".table-responsive-stack").each(function (e) {
                o(this).find(".table-responsive-stack-thead").show(), o(this).find("thead").hide();
            })
            : o(".table-responsive-stack").each(function (e) {
                o(this).find(".table-responsive-stack-thead").hide(), o(this).find("thead").show();
            });
    }
    e.find("th").each(function (e) {
        o(".table-responsive-stack td:nth-child(" + (e + 1) + ")").prepend('<span class="table-responsive-stack-thead">' + o(this).text() + ":</span> "), o(".table-responsive-stack-thead").hide();
    }),
        e.each(function () {
            var e = 100 / o(this).find("th").length + "%";
            o(this).find("th, td").css("flex-basis", e);
        }),
        s(),
        d(),
        (window.onresize = function (e) {
            s(), d("resize");
        }),
        o(document).on("click", ".accordion.custom-accordion .accordion-row a.accordion-header", function () {
            var e = o(this);
            return e.closest(".accordion.custom-accordion").find(".accordion-row").not(e.parent()).removeClass("open"), e.parent(".accordion-row").toggleClass("open"), !1;
        });
    var t,
        i = o(".table-responsive");
    function d(e) {
        "resize" == (e = e || "")
            ? (768 <= a.width() && o(".card-scroll").getNiceScroll().resize(),
                ((!n.hasClass("horizontal-side-menu") && 992 <= a.width()) || (n.hasClass("horizontal-side-menu") && a.width() < 992)) && 768 <= a.width() && o(".side-menu>div>ul").getNiceScroll().resize(),
                o(".card").each(function () {
                    if (768 <= a.width()) {
                        var e = o(this).find(".card-scroll");
                        e.length && e.getNiceScroll().resize();
                    }
                }),
                o(".sidebar .tab-content .tab-pane").each(function () {
                    768 <= a.width() && o(this).find(".tab-pane-body").getNiceScroll().resize();
                }),
                o(".dropdown-menu").each(function () {
                    void 0 !== o(".dropdown-menu-body", this)[0] && 768 <= a.width() && o(".dropdown-menu-body", this).getNiceScroll().resize();
                }),
                768 <= a.width() &&
                (o(".chat-app .chat-sidebar .chat-sidebar-messages")[0] && o(".chat-app .chat-sidebar .chat-sidebar-messages").getNiceScroll().resize(),
                    o(".chat-app .chat-body .chat-body-messages")[0] && o(".chat-app .chat-body .chat-body-messages").getNiceScroll().resize()))
            : (768 <= a.width() && (o(".card-scroll").niceScroll(), o(".table-responsive").niceScroll()),
                ((!n.hasClass("horizontal-side-menu") && 992 <= a.width()) || (n.hasClass("horizontal-side-menu") && a.width() < 992)) &&
                a.on("load", function () {
                    !n.hasClass("horizontal-side-menu") && !n.hasClass("icon-side-menu") && 768 <= a.width() && o(".side-menu .side-menu-body>ul").niceScroll();
                }),
                o(".card").each(function () {
                    if (768 <= a.width()) {
                        var e = o(this).find(".card-scroll");
                        e.length && e.niceScroll();
                    }
                }),
                o(".sidebar .tab-content .tab-pane").each(function () {
                    768 <= a.width() && o(this).find(".tab-pane-body").niceScroll();
                }),
                o(".dropdown-menu").each(function () {
                    void 0 !== o(".dropdown-menu-body", this)[0] && 768 <= a.width() && o(".dropdown-menu-body", this).niceScroll();
                }),
                768 <= a.width() &&
                (o(".chat-app .chat-sidebar .chat-sidebar-messages")[0] && o(".chat-app .chat-sidebar .chat-sidebar-messages").scrollTop(o(".chat-app .chat-sidebar .chat-sidebar-messages").get(0).scrollHeight, -1).niceScroll(),
                    o(".chat-app .chat-body .chat-body-messages")[0] && o(".chat-app .chat-body .chat-body-messages").scrollTop(o(".chat-app .chat-body .chat-body-messages").get(0).scrollHeight, -1).niceScroll()));
    }
    if (
        (i.on("show.bs.dropdown", function (e) {
            (t = o(e.target).find(".dropdown-menu")), n.append(t.detach());
            var a = o(e.target).offset();
            t.css({ display: "block", top: a.top + o(e.target).outerHeight(), left: a.left, width: "184px", "font-size": "14px" }), t.addClass("mobPosDropdown");
        }),
            i.on("hide.bs.dropdown", function (e) {
                o(e.target).append(t.detach()), t.hide();
            }),
            o(document).on("click", ".chat-app-wrapper .btn-chat-sidebar-open", function () {
                return o(".chat-app-wrapper .chat-sidebar").addClass("chat-sidebar-opened"), !1;
            }),
            o(document).on("click", "*", function (e) {
                o(e.target).is(".chat-app-wrapper .chat-sidebar, .chat-app-wrapper .chat-sidebar *, .chat-app-wrapper .btn-chat-sidebar-open, .chat-app-wrapper .btn-chat-sidebar-open *") ||
                    o(".chat-app-wrapper .chat-sidebar").removeClass("chat-sidebar-opened");
            }),
            o(document).on("click", ".side-menu ul li a", function () {
                var e = o(this);
                if (e.next("ul").length)
                    return (
                        e.find(".sub-menu-arrow").toggleClass("rotate-in"),
                        e.next("ul").toggle(200),
                        e.parent("li").siblings().find("ul").not(e.parent("li").find("ul")).hide(),
                        e.next("ul").find("li ul").hide(),
                        !n.hasClass("horizontal-side-menu") &&
                        !n.hasClass("icon-side-menu") &&
                        768 <= a.width() &&
                        setTimeout(function () {
                            o(".side-menu>.side-menu-body>ul").getNiceScroll().resize();
                        }, 300),
                        !1
                    );
            }),
            o("body.icon-side-menu .side-menu").hover(
                function (e) { },
                function (e) {
                    e.stopPropagation(), o(".side-menu ul").removeAttr("style");
                }
            ),
            o(document).on("click", ".dropdown-menu", function (e) {
                e.stopPropagation();
            }),
            o("#exampleModal").on("show.bs.modal", function (e) {
                var a = o(e.relatedTarget).data("whatever"),
                    n = o(this);
                n.find(".modal-title").text("New message to " + a), n.find(".modal-body input").val(a);
            }),
            o('[data-toggle="tooltip"]').tooltip(),
            o('[data-toggle="popover"]').popover(),
            o(".carousel").carousel(),
            a.scroll(function () {
                o('nav.navbar .dropdown.show [data-toggle="dropdown"]').trigger("click");
            }),
            n.hasClass("icon-side-menu") &&
            o(".side-menu").hover(function (e) {
                o(".side-menu").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function (e) {
                    o(".side-menu>div>ul").niceScroll();
                });
            }),
            "object" == typeof CKEDITOR && o("body").hasClass("dark"))
    ) {
        var r = o(".card").css("background-color"),
            c = o("body").css("color");
        CKEDITOR.on("instanceReady", function (e) {
            o("iframe.cke_wysiwyg_frame").each(function (e) {
                var a = o(this)[0],
                    n = a.contentDocument || a.contentWindow.document;
                (n.body.style.backgroundColor = r), (n.body.style.color = c);
            });
        });
    }
})(jQuery);
